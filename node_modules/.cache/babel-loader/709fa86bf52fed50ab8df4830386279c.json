{"ast":null,"code":"var _jsxFileName = \"/home/vpaligorov/Desktop/PharmacyVendingMachineUI/pvm_ui/src/elements/Desktop/Admin/showBugs/showBugs.js\";\nimport React from \"react\";\nimport { toast } from \"react-toastify\";\nimport '../../../../css/showPrescriptions.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ShowBugs extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: null\n    };\n  }\n\n  componentDidMount() {\n    let headers = new Headers();\n    headers.set('Authorization', 'Basic ' + btoa(localStorage.getItem(\"email\") + \":\" + localStorage.getItem(\"password\")));\n    headers.set('Content-Type', 'application/json');\n    fetch(\"http://localhost:8081/bugs\", {\n      headers: headers\n    }).then(response => response.json()).then(data => {\n      if (data.length !== 0) this.setState({\n        data: data\n      });\n    });\n  }\n\n  setOnClick(event) {\n    if (event.target.nextSibling.style.display === 'none') event.target.nextSibling.style.display = 'block';else event.target.nextSibling.style.display = 'none';\n  }\n\n  setDelete(id) {\n    let headers = new Headers();\n    headers.set('Authorization', 'Basic ' + btoa(localStorage.getItem('email') + \":\" + localStorage.getItem('password')));\n    headers.set('Content-Type', 'application/json');\n    fetch(\"http://localhost:8081/bugs\", {\n      method: \"DELETE\",\n      headers: headers,\n      body: JSON.stringify(id)\n    }).then(r => {\n      if (r.status === 200) {\n        toast.success(\"Bug fixed!\");\n      } else toast.error(\"Something unexpected happened! Try again!\");\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Bugs:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), this.state.data ? this.state.data.map(element => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: event => this.setOnClick(event),\n          children: \"Bug id:\" + element.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'none'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"div\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: element.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: element.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn2\",\n            onClick: () => this.setDelete([element.id]),\n            children: \"Mark bug as fixed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You dont have valid prescriptions yet!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default ShowBugs;","map":{"version":3,"sources":["/home/vpaligorov/Desktop/PharmacyVendingMachineUI/pvm_ui/src/elements/Desktop/Admin/showBugs/showBugs.js"],"names":["React","toast","ShowBugs","Component","constructor","props","state","data","componentDidMount","headers","Headers","set","btoa","localStorage","getItem","fetch","then","response","json","length","setState","setOnClick","event","target","nextSibling","style","display","setDelete","id","method","body","JSON","stringify","r","status","success","error","render","map","element","title","description"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { toast } from \"react-toastify\";\nimport '../../../../css/showPrescriptions.css'\n\nclass ShowBugs extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: null\n        };\n    }\n\n    componentDidMount() {\n\n        let headers = new Headers();\n        headers.set('Authorization', 'Basic ' + btoa(localStorage.getItem(\"email\") + \":\" + localStorage.getItem(\"password\")));\n        headers.set('Content-Type', 'application/json');\n        fetch(\"http://localhost:8081/bugs\", {\n            headers: headers\n        })\n            .then(response => response.json())\n            .then(data => {\n                if(data.length !== 0)\n                    this.setState({ data: data })\n            });\n    }\n\n    setOnClick(event) {\n        if (event.target.nextSibling.style.display === 'none')\n            event.target.nextSibling.style.display = 'block';\n        else\n            event.target.nextSibling.style.display = 'none';\n    }\n\n    setDelete(id) {\n        let headers = new Headers();\n        headers.set('Authorization', 'Basic ' + btoa(localStorage.getItem('email') + \":\" + localStorage.getItem('password')));\n        headers.set('Content-Type', 'application/json');\n        fetch(\"http://localhost:8081/bugs\", {\n            method: \"DELETE\",\n            headers: headers,\n            body: JSON.stringify(id)\n\n        }).then(r => {\n            if (r.status === 200) {\n                toast.success(\"Bug fixed!\");\n                \n            } else\n                toast.error(\"Something unexpected happened! Try again!\");\n        })\n    }\n\n\n    render() {\n        return (<div className=\"content\">\n            <h1>Bugs:</h1>\n            <hr></hr>\n            {\n                this.state.data ?   \n                    this.state.data.map((element) =>\n                        <div>\n                            <button className=\"btn\"\n                                onClick={(event) => this.setOnClick(event)}>{\"Bug id:\" + element.id}</button>\n                            <div style={{ display: 'none' }}>\n                                <div className=\"div\">\n                                    <h3>{element.title}</h3>\n                                    <h5>{element.description}</h5>\n                                </div>\n                                <button className=\"btn2\" onClick={() => this.setDelete([element.id])}>Mark\n                                    bug as fixed\n                                </button>\n                            </div>\n                        </div>\n                    )\n                    : <p>You dont have valid prescriptions yet!</p>\n            }\n        </div>)\n    }\n}\n\nexport default ShowBugs;"]},"metadata":{},"sourceType":"module"}